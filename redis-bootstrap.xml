<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<configuration>

  <property>
    <name>redis_graceful_shutdown</name>
    <value>20</value>
    <description>How long to wait after telling REDIS to shutdown before explicitly killing the Process</description>
  </property> 
  
  <property>
    <name>content</name>
    <value>
# Java command to use when running redis
java=java

# Username to use when running redis. This value will be ignored on Windows.
run.as={{redis_user}}

# Configure where redis's lib and conf directories live
# lib.dir=./lib
# conf.dir=./conf

# How long to wait after telling redis to shutdown before explicitly killing the Process
graceful.shutdown.seconds={{redis_graceful_shutdown}}

# Disable JSR 199 so that we can use JSP's without running a JDK
java.arg.1=-Dorg.apache.jasper.compiler.disablejsr199=true

# JVM memory settings
# # java.arg.2=-Xms{{redis_initial_mem}}
# java.arg.3=-Xmx{{redis_max_mem}}

# Enable Remote Debugging
#java.arg.debug=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000

java.arg.4=-Djava.net.preferIPv4Stack=true

# allowRestrictedHeaders is required for Cluster/Node communications to work properly
java.arg.5=-Dsun.net.http.allowRestrictedHeaders=true
java.arg.6=-Djava.protocol.handler.pkgs=sun.net.www.protocol

#Set headless mode by default
java.arg.14=-Djava.awt.headless=true

java.arg.15=-Dambari.metrics.collector.url=http://{{ambari_server}}:6188/ws/v1/timeline/metrics
java.arg.16=-Dambari.application.id=redis

  </value>
  <description>Template for bootstrap.conf</description>
  
  </property>

</configuration>
